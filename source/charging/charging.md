计费模板
======================
>
>+ **计费模板设置所有可用分区的基础价格。**
>+ **计费模板仅新增、禁用，不可修改、删除，方便回溯。**
>+ **针对同一分区不同价格，需设置多套计费模板。**

>计费管理子系统对用户实现**配额控制**和**实时计费**功能，HPC平台按照用户使用**CPU**、**GPU**、**胖节点**（内存）的具体数量进行计费，提供对用户使用机时资源进行计费；每类按照共享、独占两种方式进行计费，共享与独占，通过分区的方式来实现。具体计费产品如下:
>>
| 产品          | 计费方式| 计费单位|          备注                      |
|:-------------:| :------ | ------:| :----------------------------------:|
|CPU（普通节点）|独占/共享 |  核时  |          独占按 节点*天数 计算      |
|CPU（胖节点）  |独占/共享 |  核时  |          独占按 节点*天数 计算      |              
|   GPU         |独占/共享 |  卡时  |          独占按 卡*天数 计算        |
|   存储        |    无    |  G/天  | 按申请时的量计算（可修改申请的数值）| 

> **备注：**
    >+ （1）存储计费模式为开通默认固定大小，后续根据申请量进行计费，存储超过使用量暂不进行业务暂停，提供告警提示；
    >+ （2）余额不足不暂停业务，只给予告警。
    >+ （3）分区相关信息来自分区管理。
    >+ （4）团队用户不需要定义模板，继承团队管理员的计费模板，且在显示账单的时候，团队管理员可以看到团队成员的详单，含金额；而团队用户智能看到使用情况，即服务详单，但不体现金额。
    >+ （5）在共享计费方式中，计费单位以每核每小时进行计算，不足一个小时的都按一小时计算。
    >+ （6）系统管理员可新增编辑和禁用计费模板和计费策略，而团队管理员仅能查看计费模板、计费策略。


&emsp;

## 新增计费模板 ##
* 点击【**<font color=#0071C1>计费</font>**】菜单，再次点击[**<font color=#0071C1>计费模板</font>**]，进入'计费模板'列表页面，点击<**<font color=#0071C1>新增</font>**>按钮，填入计费模板信息，点击<**<font color=#0071C1>保存</font>**>，可成功添加计费模板。


![新增计费模板](../_static/img/charging/billingTemplate/addCharging.png)


&emsp;


----------------------------------------------------------------------------------------------------------------------------------

## 编辑计费模板 ##

* 点击【**<font color=#0071C1>计费</font>**】菜单，再次点击[**<font color=#0071C1>计费模板</font>**]，进入'计费模板'列表页面，点击需要编辑的计费模板项中的[**<font color=#0071C1>操作</font>**]列的<**<font color=#0071C1>编辑</font>**>按钮，填入新的计费模板信息，点击<**<font color=#0071C1>修改</font>**>，可成功编辑计费模板。


![编辑计费模板](../_static/img/charging/billingTemplate/editCharging.png)


&emsp;

----------------------------------------------------------------------------------------------------------------------------------

## 禁用计费模板 ##

* 点击【**<font color=#0071C1>计费</font>**】菜单，再次点击[**<font color=#0071C1>计费模板</font>**]，进入'计费模板'列表页面，点击需要禁用的未被使用的计费模板项中的[**<font color=#0071C1>操作</font>**]列的<**<font color=#0071C1>禁用</font>**>按钮，可成功禁用模板，禁用后列表内该模板的状态为不可用；点击已被禁用的模板的[**<font color=#0071C1>操作</font>**]列的<**<font color=#0071C1>启用</font>**>按钮，可成功启用模板，启用后列表内该模板的状态为可用
    * 已被使用的计费模板无法被禁用；

![禁用/启用计费模板](../_static/img/charging/billingTemplate/banOrPass.png)
![已被使用的计费模板](../_static/img/charging/billingTemplate/banFail.png)

&emsp;


----------------------------------------------------------------------------------------------------------------------------------
## 计费策略 ##

* 点击【**<font color=#0071C1>计费</font>**】菜单，再次点击[**<font color=#0071C1>计费模板</font>**]，进入'计费模板'列表页面，点击需要操作的计费模板项中的[**<font color=#0071C1>操作</font>**]列的<**<font color=#0071C1>策略</font>**>按钮，进入计费策略列表，可以对被选计费模板的计费策略进行操作。

![计费策略](../_static/img/charging/billingTemplate/chargingStrategy.png)

&emsp;

### 新增计费策略 ###
* 在'计费策略'列表页面，点击<**<font color=#0071C1>新增</font>**>按钮，填入计费策略信息，点击<**<font color=#0071C1>保存</font>**>，可成功添加计费策略。


![新增计费策略](../_static/img/charging/billingTemplate/addStrategy.png)

&emsp;


### 查看计费策略详情 ###

* 在'计费策略'列表页面，点击需要查看的计费策略管理项中的[**<font color=#0071C1>操作</font>**]列的<**<font color=#0071C1>查看</font>**>按钮，可成功查看计费策略项详情信息。

![查看计费策略详情](../_static/img/charging/billingTemplate/strategyDetail.png)


&emsp;



### 编辑计费策略 ###

* 在'计费策略'列表页面，点击需要编辑的计费策略管理项中的[**<font color=#0071C1>操作</font>**]列的<**<font color=#0071C1>编辑</font>**>按钮，填入新的计费策略信息，点击<**<font color=#0071C1>修改</font>**>，可成功编辑计费策略。


![编辑计费策略](../_static/img/charging/billingTemplate/editStrategy.png)


&emsp;



### 删除计费策略管理 ###

* 在'计费策略'列表页面，点击需要删除的计费策略管理项中的[**<font color=#0071C1>操作</font>**]列的<**<font color=#0071C1>删除</font>**>按钮进行删除操作；也可以勾选需要删除的计费策略管理项，再点击<**<font color=#0071C1>删除</font>**>按钮，进行批量删除的操作。


![删除计费策略](../_static/img/charging/billingTemplate/deleteStrategy.png)


&emsp;


